{"version":3,"file":"content.js","sources":["../src/content/content.js"],"sourcesContent":["// Starts the pokeball catch animation sequence with manual frame control.\r\nfunction startCatchAnimation(pokemon) {\r\n  const popup = document.getElementById('pokebrowser-encounter');\r\n  const pokemonSprite = popup.querySelector('.pokemon-sprite img');\r\n  \r\n  // Hide the catch/run buttons\r\n  const buttonContainer = popup.querySelector('.button-container');\r\n  buttonContainer.style.display = 'none';\r\n  \r\n  // Create pokeball element\r\n  const pokeball = document.createElement('div');\r\n  pokeball.className = 'pokeball';\r\n  pokeball.innerHTML = '<div class=\"pokeball-sprite\"></div>';\r\n  \r\n  // Style the pokeball container\r\n  pokeball.style.position = 'absolute';\r\n  pokeball.style.width = '64px';\r\n  pokeball.style.height = '64px';\r\n  pokeball.style.bottom = '-32px';\r\n  pokeball.style.left = '-32px';\r\n  pokeball.style.zIndex = '3';\r\n  pokeball.style.opacity = '0';\r\n  pokeball.style.transform = 'scale(1.5)'; // Scale up by 1.5x (96px effective size)\r\n  pokeball.style.transition = 'transform 0.1s ease-out, filter 0.2s ease-out';\r\n  \r\n  // Load the pokeball sprite sheet\r\n  const pokeballSprite = pokeball.querySelector('.pokeball-sprite');\r\n  const pokeballImageUrl = getExtensionURL('pokeball-spritesheet.png');\r\n  if (pokeballImageUrl) {\r\n    pokeballSprite.style.backgroundImage = `url('${pokeballImageUrl}')`;\r\n  }\r\n  pokeballSprite.style.backgroundSize = '1792px 2048px';\r\n  pokeballSprite.style.backgroundRepeat = 'no-repeat';\r\n  pokeballSprite.style.imageRendering = 'pixelated';\r\n  pokeballSprite.style.width = '100%';\r\n  pokeballSprite.style.height = '100%';\r\n  pokeballSprite.style.backgroundPosition = '0 0';\r\n  \r\n  // Add pokeball to the grass platform\r\n  const grassPlatform = popup.querySelector('.grass-platform');\r\n  grassPlatform.appendChild(pokeball);\r\n  \r\n  // Start the throw animation with manual frame control\r\n  setTimeout(() => {\r\n    throwPokeballWithFrames(pokeball, pokeballSprite, pokemonSprite, pokemon);\r\n  }, 500);\r\n}\r\n\r\n// Handles the throw animation with manual frame control\r\nfunction throwPokeballWithFrames(pokeball, pokeballSprite, pokemonSprite, pokemon) {\r\n  pokeball.style.opacity = '1';\r\n  \r\n  // Spinning frames (1-3) during throw\r\n  const throwFrames = [0, -64, -128]; // Frames 1, 2, 3\r\n  let currentFrame = 0;\r\n  \r\n  // Start CSS animation for movement\r\n  pokeball.style.animation = 'throwPokeball 0.8s ease-out forwards';\r\n  \r\n  // Manually update sprite frames during throw\r\n  const frameInterval = setInterval(() => {\r\n    pokeballSprite.style.backgroundPosition = `0 ${throwFrames[currentFrame]}px`;\r\n    currentFrame = (currentFrame + 1) % throwFrames.length;\r\n  }, 100); // Change frame every 100ms\r\n  \r\n  // After throw completes, start catch sequence\r\n  setTimeout(() => {\r\n    clearInterval(frameInterval);\r\n    startCatchSequence(pokeball, pokeballSprite, pokemonSprite, pokemon);\r\n  }, 800);\r\n}\r\n\r\n// Handles the catch sequence (flash + shake + success)\r\nfunction startCatchSequence(pokeball, pokeballSprite, pokemonSprite, pokemon) {\r\n  // Hide pokemon with flash effect\r\n  pokemonSprite.style.opacity = '0';\r\n  \r\n  // Flash and opening animation (frames 4-6)\r\n  const flashFrames = [-192, -256, -320]; // Frames 4, 5, 6\r\n  let flashFrame = 0;\r\n  \r\n  // Add flash effect\r\n  pokeball.style.filter = 'brightness(3) drop-shadow(0 0 20px white)';\r\n  \r\n  const flashInterval = setInterval(() => {\r\n    pokeballSprite.style.backgroundPosition = `0 ${flashFrames[flashFrame]}px`;\r\n    flashFrame++;\r\n    \r\n    if (flashFrame >= flashFrames.length) {\r\n      clearInterval(flashInterval);\r\n      // Reset to closed ball\r\n      pokeballSprite.style.backgroundPosition = '0 0px';\r\n      pokeball.style.filter = 'brightness(1)';\r\n      \r\n      // Start shaking after flash\r\n      setTimeout(() => {\r\n        startShakingAnimation(pokeball, pokeballSprite, pokemon);\r\n      }, 100);\r\n    }\r\n  }, 100);\r\n}\r\n\r\n// Handles the shaking animation\r\nfunction startShakingAnimation(pokeball, pokeballSprite, pokemon) {\r\n  // Shaking frames (16-20)\r\n  const shakeFrames = [-960, -1024, -1088, -1152, -1216]; // Frames 16, 17, 18, 19, 20\r\n  let shakeCount = 0;\r\n  const maxShakes = 3;\r\n  \r\n  function performShake() {\r\n    if (shakeCount >= maxShakes) {\r\n      showSuccessParticles(pokeball, pokeballSprite, pokemon);\r\n      return;\r\n    }\r\n    \r\n    let frameIndex = 0;\r\n    const shakeInterval = setInterval(() => {\r\n      // Update sprite frame\r\n      pokeballSprite.style.backgroundPosition = `0 ${shakeFrames[frameIndex]}px`;\r\n      \r\n      // Update position for shaking effect\r\n      const shakeAmount = 5 + (shakeCount * 2); // Increase shake intensity\r\n      const xOffset = Math.sin(frameIndex * 0.5) * shakeAmount;\r\n      const rotation = Math.sin(frameIndex * 0.3) * (5 + shakeCount * 3);\r\n      \r\n      pokeball.style.transform = `scale(1.5) translate(70px, -40px) rotate(${rotation}deg) translateX(${xOffset}px)`;\r\n      \r\n      frameIndex++;\r\n      \r\n      if (frameIndex >= shakeFrames.length) {\r\n        clearInterval(shakeInterval);\r\n        shakeCount++;\r\n        \r\n        // Short pause between shakes\r\n        setTimeout(() => {\r\n          performShake();\r\n        }, 200);\r\n      }\r\n    }, 150); // Slower frame rate for shaking\r\n  }\r\n  \r\n  performShake();\r\n}\r\n\r\n// Shows success particles animation\r\nfunction showSuccessParticles(pokeball, pokeballSprite, pokemon) {\r\n  // Success frames (28-32)\r\n  const particleFrames = [-1728, -1792, -1856, -1920, -1984]; // Frames 28, 29, 30, 31, 32\r\n  let particleFrame = 0;\r\n  \r\n  // Add glow effect\r\n  pokeball.style.filter = 'drop-shadow(0 0 8px rgba(255, 255, 255, 0.6))';\r\n  \r\n  const particleInterval = setInterval(() => {\r\n    pokeballSprite.style.backgroundPosition = `0 ${particleFrames[particleFrame]}px`;\r\n    particleFrame++;\r\n    \r\n    if (particleFrame >= particleFrames.length) {\r\n      clearInterval(particleInterval);\r\n      // Animation complete, save pokemon\r\n      setTimeout(() => {\r\n        savePokemonAndShowSuccess(pokemon);\r\n      }, 500);\r\n    }\r\n  }, 200);\r\n}\r\n\r\nconst POKEMON_LIST = [\r\n  { id: 1, name: \"Bulbasaur\", rarity: \"common\", types: [\"grass\", \"poison\"] },\r\n  { id: 2, name: \"Ivysaur\", rarity: \"uncommon\", types: [\"grass\", \"poison\"] },\r\n  { id: 3, name: \"Venusaur\", rarity: \"rare\", types: [\"grass\", \"poison\"] },\r\n  { id: 4, name: \"Charmander\", rarity: \"common\", types: [\"fire\"] },\r\n  { id: 5, name: \"Charmeleon\", rarity: \"uncommon\", types: [\"fire\"] },\r\n  { id: 6, name: \"Charizard\", rarity: \"rare\", types: [\"fire\", \"flying\"] },\r\n  { id: 7, name: \"Squirtle\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 8, name: \"Wartortle\", rarity: \"uncommon\", types: [\"water\"] },\r\n  { id: 9, name: \"Blastoise\", rarity: \"rare\", types: [\"water\"] },\r\n  { id: 10, name: \"Caterpie\", rarity: \"common\", types: [\"bug\"] },\r\n  { id: 11, name: \"Metapod\", rarity: \"common\", types: [\"bug\"] },\r\n  { id: 12, name: \"Butterfree\", rarity: \"uncommon\", types: [\"bug\", \"flying\"] },\r\n  { id: 13, name: \"Weedle\", rarity: \"common\", types: [\"bug\", \"poison\"] },\r\n  { id: 14, name: \"Kakuna\", rarity: \"common\", types: [\"bug\", \"poison\"] },\r\n  { id: 15, name: \"Beedrill\", rarity: \"uncommon\", types: [\"bug\", \"poison\"] },\r\n  { id: 16, name: \"Pidgey\", rarity: \"common\", types: [\"normal\", \"flying\"] },\r\n  { id: 17, name: \"Pidgeotto\", rarity: \"uncommon\", types: [\"normal\", \"flying\"] },\r\n  { id: 18, name: \"Pidgeot\", rarity: \"rare\", types: [\"normal\", \"flying\"] },\r\n  { id: 19, name: \"Rattata\", rarity: \"common\", types: [\"normal\"] },\r\n  { id: 20, name: \"Raticate\", rarity: \"uncommon\", types: [\"normal\"] },\r\n  { id: 21, name: \"Spearow\", rarity: \"common\", types: [\"normal\", \"flying\"] },\r\n  { id: 22, name: \"Fearow\", rarity: \"uncommon\", types: [\"normal\", \"flying\"] },\r\n  { id: 23, name: \"Ekans\", rarity: \"common\", types: [\"poison\"] },\r\n  { id: 24, name: \"Arbok\", rarity: \"uncommon\", types: [\"poison\"] },\r\n  { id: 25, name: \"Pikachu\", rarity: \"uncommon\", types: [\"electric\"] },\r\n  { id: 26, name: \"Raichu\", rarity: \"rare\", types: [\"electric\"] },\r\n  { id: 27, name: \"Sandshrew\", rarity: \"common\", types: [\"ground\"] },\r\n  { id: 28, name: \"Sandslash\", rarity: \"uncommon\", types: [\"ground\"] },\r\n  { id: 29, name: \"Nidoran♀\", rarity: \"common\", types: [\"poison\"] },\r\n  { id: 30, name: \"Nidorina\", rarity: \"uncommon\", types: [\"poison\"] },\r\n  { id: 31, name: \"Nidoqueen\", rarity: \"rare\", types: [\"poison\", \"ground\"] },\r\n  { id: 32, name: \"Nidoran♂\", rarity: \"common\", types: [\"poison\"] },\r\n  { id: 33, name: \"Nidorino\", rarity: \"uncommon\", types: [\"poison\"] },\r\n  { id: 34, name: \"Nidoking\", rarity: \"rare\", types: [\"poison\", \"ground\"] },\r\n  { id: 35, name: \"Clefairy\", rarity: \"uncommon\", types: [\"fairy\"] },\r\n  { id: 36, name: \"Clefable\", rarity: \"rare\", types: [\"fairy\"] },\r\n  { id: 37, name: \"Vulpix\", rarity: \"uncommon\", types: [\"fire\"] },\r\n  { id: 38, name: \"Ninetales\", rarity: \"rare\", types: [\"fire\"] },\r\n  { id: 39, name: \"Jigglypuff\", rarity: \"uncommon\", types: [\"normal\", \"fairy\"] },\r\n  { id: 40, name: \"Wigglytuff\", rarity: \"rare\", types: [\"normal\", \"fairy\"] },\r\n  { id: 41, name: \"Zubat\", rarity: \"common\", types: [\"poison\", \"flying\"] },\r\n  { id: 42, name: \"Golbat\", rarity: \"uncommon\", types: [\"poison\", \"flying\"] },\r\n  { id: 43, name: \"Oddish\", rarity: \"common\", types: [\"grass\", \"poison\"] },\r\n  { id: 44, name: \"Gloom\", rarity: \"uncommon\", types: [\"grass\", \"poison\"] },\r\n  { id: 45, name: \"Vileplume\", rarity: \"rare\", types: [\"grass\", \"poison\"] },\r\n  { id: 46, name: \"Paras\", rarity: \"common\", types: [\"bug\", \"grass\"] },\r\n  { id: 47, name: \"Parasect\", rarity: \"uncommon\", types: [\"bug\", \"grass\"] },\r\n  { id: 48, name: \"Venonat\", rarity: \"common\", types: [\"bug\", \"poison\"] },\r\n  { id: 49, name: \"Venomoth\", rarity: \"uncommon\", types: [\"bug\", \"poison\"] },\r\n  { id: 50, name: \"Diglett\", rarity: \"common\", types: [\"ground\"] },\r\n  { id: 51, name: \"Dugtrio\", rarity: \"uncommon\", types: [\"ground\"] },\r\n  { id: 52, name: \"Meowth\", rarity: \"common\", types: [\"normal\"] },\r\n  { id: 53, name: \"Persian\", rarity: \"uncommon\", types: [\"normal\"] },\r\n  { id: 54, name: \"Psyduck\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 55, name: \"Golduck\", rarity: \"uncommon\", types: [\"water\"] },\r\n  { id: 56, name: \"Mankey\", rarity: \"common\", types: [\"fighting\"] },\r\n  { id: 57, name: \"Primeape\", rarity: \"uncommon\", types: [\"fighting\"] },\r\n  { id: 58, name: \"Growlithe\", rarity: \"uncommon\", types: [\"fire\"] },\r\n  { id: 59, name: \"Arcanine\", rarity: \"rare\", types: [\"fire\"] },\r\n  { id: 60, name: \"Poliwag\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 61, name: \"Poliwhirl\", rarity: \"uncommon\", types: [\"water\"] },\r\n  { id: 62, name: \"Poliwrath\", rarity: \"rare\", types: [\"water\", \"fighting\"] },\r\n  { id: 63, name: \"Abra\", rarity: \"uncommon\", types: [\"psychic\"] },\r\n  { id: 64, name: \"Kadabra\", rarity: \"rare\", types: [\"psychic\"] },\r\n  { id: 65, name: \"Alakazam\", rarity: \"rare\", types: [\"psychic\"] },\r\n  { id: 66, name: \"Machop\", rarity: \"common\", types: [\"fighting\"] },\r\n  { id: 67, name: \"Machoke\", rarity: \"uncommon\", types: [\"fighting\"] },\r\n  { id: 68, name: \"Machamp\", rarity: \"rare\", types: [\"fighting\"] },\r\n  { id: 69, name: \"Bellsprout\", rarity: \"common\", types: [\"grass\", \"poison\"] },\r\n  { id: 70, name: \"Weepinbell\", rarity: \"uncommon\", types: [\"grass\", \"poison\"] },\r\n  { id: 71, name: \"Victreebel\", rarity: \"rare\", types: [\"grass\", \"poison\"] },\r\n  { id: 72, name: \"Tentacool\", rarity: \"common\", types: [\"water\", \"poison\"] },\r\n  { id: 73, name: \"Tentacruel\", rarity: \"uncommon\", types: [\"water\", \"poison\"] },\r\n  { id: 74, name: \"Geodude\", rarity: \"common\", types: [\"rock\", \"ground\"] },\r\n  { id: 75, name: \"Graveler\", rarity: \"uncommon\", types: [\"rock\", \"ground\"] },\r\n  { id: 76, name: \"Golem\", rarity: \"rare\", types: [\"rock\", \"ground\"] },\r\n  { id: 77, name: \"Ponyta\", rarity: \"uncommon\", types: [\"fire\"] },\r\n  { id: 78, name: \"Rapidash\", rarity: \"rare\", types: [\"fire\"] },\r\n  { id: 79, name: \"Slowpoke\", rarity: \"common\", types: [\"water\", \"psychic\"] },\r\n  { id: 80, name: \"Slowbro\", rarity: \"uncommon\", types: [\"water\", \"psychic\"] },\r\n  { id: 81, name: \"Magnemite\", rarity: \"common\", types: [\"electric\", \"steel\"] },\r\n  { id: 82, name: \"Magneton\", rarity: \"uncommon\", types: [\"electric\", \"steel\"] },\r\n  { id: 83, e:\"afetch'd\", rarity: \"uncommon\", types: [\"normal\", \"flying\"] },\r\n  { id: 84, name: \"Doduo\", rarity: \"common\", types: [\"normal\", \"flying\"] },\r\n  { id: 85, name: \"Dodrio\", rarity: \"uncommon\", types: [\"normal\", \"flying\"] },\r\n  { id: 86, name: \"Seel\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 87, name: \"Dewgong\", rarity: \"uncommon\", types: [\"water\", \"ice\"] },\r\n  { id: 88, name: \"Grimer\", rarity: \"common\", types: [\"poison\"] },\r\n  { id: 89, name: \"Muk\", rarity: \"uncommon\", types: [\"poison\"] },\r\n  { id: 90, name: \"Shellder\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 91, name: \"Cloyster\", rarity: \"uncommon\", types: [\"water\", \"ice\"] },\r\n  { id: 92, name: \"Gastly\", rarity: \"common\", types: [\"ghost\", \"poison\"] },\r\n  { id: 93, name: \"Haunter\", rarity: \"uncommon\", types: [\"ghost\", \"poison\"] },\r\n  { id: 94, name: \"Gengar\", rarity: \"rare\", types: [\"ghost\", \"poison\"] },\r\n  { id: 95, name: \"Onix\", rarity: \"uncommon\", types: [\"rock\", \"ground\"] },\r\n  { id: 96, name: \"Drowzee\", rarity: \"common\", types: [\"psychic\"] },\r\n  { id: 97, name: \"Hypno\", rarity: \"uncommon\", types: [\"psychic\"] },\r\n  { id: 98, name: \"Krabby\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 99, name: \"Kingler\", rarity: \"uncommon\", types: [\"water\"] },\r\n  { id: 100, name: \"Voltorb\", rarity: \"common\", types: [\"electric\"] },\r\n  { id: 101, name: \"Electrode\", rarity: \"uncommon\", types: [\"electric\"] },\r\n  { id: 102, name: \"Exeggcute\", rarity: \"common\", types: [\"grass\", \"psychic\"] },\r\n  { id: 103, name: \"Exeggutor\", rarity: \"uncommon\", types: [\"grass\", \"psychic\"] },\r\n  { id: 104, name: \"Cubone\", rarity: \"uncommon\", types: [\"ground\"] },\r\n  { id: 105, name: \"Marowak\", rarity: \"rare\", types: [\"ground\"] },\r\n  { id: 106, name: \"Hitmonlee\", rarity: \"rare\", types: [\"fighting\"] },\r\n  { id: 107, name: \"Hitmonchan\", rarity: \"rare\", types: [\"fighting\"] },\r\n  { id: 108, name: \"Lickitung\", rarity: \"uncommon\", types: [\"normal\"] },\r\n  { id: 109, name: \"Koffing\", rarity: \"common\", types: [\"poison\"] },\r\n  { id: 110, name: \"Weezing\", rarity: \"uncommon\", types: [\"poison\"] },\r\n  { id: 111, name: \"Rhyhorn\", rarity: \"common\", types: [\"ground\", \"rock\"] },\r\n  { id: 112, name: \"Rhydon\", rarity: \"uncommon\", types: [\"ground\", \"rock\"] },\r\n  { id: 113, name: \"Chansey\", rarity: \"rare\", types: [\"normal\"] },\r\n  { id: 114, name: \"Tangela\", rarity: \"uncommon\", types: [\"grass\"] },\r\n  { id: 115, name: \"Kangaskhan\", rarity: \"rare\", types: [\"normal\"] },\r\n  { id: 116, name: \"Horsea\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 117, name: \"Seadra\", rarity: \"uncommon\", types: [\"water\"] },\r\n  { id: 118, name: \"Goldeen\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 119, name: \"Seaking\", rarity: \"uncommon\", types: [\"water\"] },\r\n  { id: 120, name: \"Staryu\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 121, name: \"Starmie\", rarity: \"uncommon\", types: [\"water\", \"psychic\"] },\r\n  { id: 122, e:\"r Mime\", rarity: \"rare\", types: [\"psychic\", \"fairy\"] },\r\n  { id: 123, name: \"Scyther\", rarity: \"rare\", types: [\"bug\", \"flying\"] },\r\n  { id: 124, name: \"Jynx\", rarity: \"rare\", types: [\"ice\", \"psychic\"] },\r\n  { id: 125, name: \"Electabuzz\", rarity: \"rare\", types: [\"electric\"] },\r\n  { id: 126, name: \"Magmar\", rarity: \"rare\", types: [\"fire\"] },\r\n  { id: 127, name: \"Pinsir\", rarity: \"rare\", types: [\"bug\"] },\r\n  { id: 128, name: \"Tauros\", rarity: \"rare\", types: [\"normal\"] },\r\n  { id: 129, name: \"Magikarp\", rarity: \"common\", types: [\"water\"] },\r\n  { id: 130, name: \"Gyarados\", rarity: \"rare\", types: [\"water\", \"flying\"] },\r\n  { id: 131, name: \"Lapras\", rarity: \"rare\", types: [\"water\", \"ice\"] },\r\n  { id: 132, name: \"Ditto\", rarity: \"uncommon\", types: [\"normal\"] },\r\n  { id: 133, name: \"Eevee\", rarity: \"uncommon\", types: [\"normal\"] },\r\n  { id: 134, name: \"Vaporeon\", rarity: \"rare\", types: [\"water\"] },\r\n  { id: 135, name: \"Jolteon\", rarity: \"rare\", types: [\"electric\"] },\r\n  { id: 136, name: \"Flareon\", rarity: \"rare\", types: [\"fire\"] },\r\n  { id: 137, name: \"Porygon\", rarity: \"rare\", types: [\"normal\"] },\r\n  { id: 138, name: \"Omanyte\", rarity: \"uncommon\", types: [\"rock\", \"water\"] },\r\n  { id: 139, name: \"Omastar\", rarity: \"rare\", types: [\"rock\", \"water\"] },\r\n  { id: 140, name: \"Kabuto\", rarity: \"uncommon\", types: [\"rock\", \"water\"] },\r\n  { id: 141, name: \"Kabutops\", rarity: \"rare\", types: [\"rock\", \"water\"] },\r\n  { id: 142, name: \"Aerodactyl\", rarity: \"rare\", types: [\"rock\", \"flying\"] },\r\n  { id: 143, name: \"Snorlax\", rarity: \"rare\", types: [\"normal\"] },\r\n  { id: 144, name: \"Articuno\", rarity: \"legendary\", types: [\"ice\", \"flying\"] },\r\n  { id: 145, name: \"Zapdos\", rarity: \"legendary\", types: [\"electric\", \"flying\"] },\r\n  { id: 146, name: \"Moltres\", rarity: \"legendary\", types: [\"fire\", \"flying\"] },\r\n  { id: 147, name: \"Dratini\", rarity: \"uncommon\", types: [\"dragon\"] },\r\n  { id: 148, name: \"Dragonair\", rarity: \"rare\", types: [\"dragon\"] },\r\n  { id: 149, name: \"Dragonite\", rarity: \"legendary\", types: [\"dragon\", \"flying\"] },\r\n  { id: 150, name: \"Mewtwo\", rarity: \"legendary\", types: [\"psychic\"] },\r\n  { id: 151, name: \"Mew\", rarity: \"legendary\", types: [\"psychic\"] }\r\n];\r\n\r\n// Encounter rates for each Pokémon rarity.\r\nconst ENCOUNTER_RATES = {\r\n  common: 0.15,\r\n  uncommon: 0.08,\r\n  rare: 0.03,\r\n  legendary: 0.01\r\n};\r\n\r\n// Determines whether to show a Pokémon encounter.\r\nfunction shouldShowEncounter() {\r\n  return true; // always encounter rn\r\n}\r\n\r\n// Selects a random Pokémon based on rarity.\r\nfunction selectRandomPokemon() {\r\n  const availablePokemon = POKEMON_LIST.filter(p => Math.random() < ENCOUNTER_RATES[p.rarity]);\r\n  \r\n  let selectedPokemon;\r\n  if (availablePokemon.length === 0) {\r\n    const commonPokemon = POKEMON_LIST.filter(p => p.rarity === 'common');\r\n    selectedPokemon = { ...commonPokemon[Math.floor(Math.random() * commonPokemon.length)] };\r\n  } else {\r\n    selectedPokemon = { ...availablePokemon[Math.floor(Math.random() * availablePokemon.length)] };\r\n  }\r\n  \r\n  selectedPokemon.shiny = Math.random() < 1 / 200;\r\n  return selectedPokemon;\r\n}\r\n\r\n// Creates and displays the encounter popup.\r\nfunction createEncounterPopup(pokemon) {\r\n  const popup = document.createElement('div');\r\n  popup.id = 'pokebrowser-encounter';\r\n  popup.innerHTML = `\r\n    <div class=\"encounter-content\">\r\n      <div class=\"grass-platform\">\r\n        <div class=\"pokemon-sprite\">\r\n          <img src=\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/${pokemon.shiny ? 'shiny/' : ''}${pokemon.id}.gif\" \r\n               alt=\"${pokemon.name}\" onerror=\"this.src='https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.shiny ? 'shiny/' : ''}${pokemon.id}.png'\">\r\n        </div>\r\n      </div>\r\n      <div class=\"encounter-text\">\r\n        <h3>A wild ${pokemon.shiny ? 'shiny' : ''} ${pokemon.name} appeared!</h3>\r\n      </div>\r\n      <div class=\"button-container\">\r\n        <button id=\"catch-pokemon\">Catch</button>\r\n        <button id=\"run-away\">Run</button>\r\n      </div>\r\n    </div>\r\n  `;\r\n  \r\n  document.body.appendChild(popup);\r\n  \r\n  const grassPlatform = popup.querySelector('.grass-platform');\r\n  const grassImageUrl = getExtensionURL('grass-platform.webp');\r\n  if (grassImageUrl) {\r\n    grassPlatform.style.backgroundImage = `url('${grassImageUrl}')`;\r\n  }\r\n  \r\n  document.getElementById('catch-pokemon').addEventListener('click', () => catchPokemon(pokemon));\r\n  document.getElementById('run-away').addEventListener('click', closePokemonEncounter);\r\n}\r\n\r\n// Catches the Pokémon with pokeball animation.\r\nasync function catchPokemon(pokemon) {\r\n  startCatchAnimation(pokemon);\r\n}\r\n\r\n// Saves the caught Pokémon and shows success message.\r\nasync function savePokemonAndShowSuccess(pokemon) {\r\n  try {\r\n    const caughtPokemon = { ...pokemon, caughtAt: new Date().toISOString(), site: window.location.hostname, shiny: pokemon.shiny || false, level: 1 };\r\n\r\n    // Send message to background script to handle Pokemon catching\r\n    // The background script will determine if user is logged in and handle accordingly\r\n    if (chrome.runtime && chrome.runtime.sendMessage) {\r\n      const response = await chrome.runtime.sendMessage({\r\n        type: 'CATCH_POKEMON',\r\n        data: { pokemon: caughtPokemon }\r\n      });\r\n      \r\n      if (response && !response.success) {\r\n        console.error('Error from background script:', response.error);\r\n      }\r\n    }\r\n\r\n    showCatchSuccess(pokemon);\r\n  } catch (error) {\r\n    console.error('Error catching Pokemon:', error);\r\n    showCatchSuccess(pokemon); // Show success anyway for demo\r\n  }\r\n}\r\n\r\n// Displays a success message after catching a Pokémon.\r\nfunction showCatchSuccess(pokemon) {\r\n  const popup = document.getElementById('pokebrowser-encounter');\r\n  \r\n  // Only replace the encounter text and button container, keep the grass platform\r\n  const encounterText = popup.querySelector('.encounter-text');\r\n  const buttonContainer = popup.querySelector('.button-container');\r\n  \r\n  if (encounterText) {\r\n    encounterText.innerHTML = `\r\n      <h3>Gotcha! ${pokemon.name} was caught!</h3>\r\n      <div class=\"close-instruction\">Click anywhere to close</div>\r\n    `;\r\n  }\r\n  \r\n  if (buttonContainer) {\r\n    buttonContainer.style.display = 'none';\r\n  }\r\n  \r\n  const clickHandler = (e) => {\r\n    if (!popup.contains(e.target)) {\r\n      closePokemonEncounter();\r\n      document.removeEventListener('click', clickHandler);\r\n    }\r\n  };\r\n  \r\n  setTimeout(() => document.addEventListener('click', clickHandler), 100);\r\n  setTimeout(closePokemonEncounter, 5000); // 5 second delay before close\r\n}\r\n\r\n// Closes the encounter popup.\r\nfunction closePokemonEncounter() {\r\n  const popup = document.getElementById('pokebrowser-encounter');\r\n  if (popup) popup.remove();\r\n}\r\n\r\n/**\r\n * Safely gets a URL for a resource within the extension.\r\n * @param {string} resourcePath - The path to the resource.\r\n * @returns {string|null} - The full URL or null if the API is unavailable.\r\n */\r\nfunction getExtensionURL(resourcePath) {\r\n  if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.getURL) {\r\n    return chrome.runtime.getURL(resourcePath);\r\n  }\r\n  console.warn(`chrome.runtime.getURL not available for resource: ${resourcePath}`);\r\n  return null;\r\n}\r\n\r\n// Initializes the Pokémon encounter check.\r\nfunction initializePokebrowser() {\r\n  if (window.location.protocol.startsWith('chrome')) return;\r\n\r\n  // Inject the CSS\r\n  const updatedCSS = `\r\n  /* Throw movement animation - adjusted for scaled pokeball */\r\n  @keyframes throwPokeball {\r\n    0% {\r\n      transform: scale(1.5) translate(0, 0) rotate(0deg);\r\n    }\r\n    33% {\r\n      transform: scale(1.5) translate(50px, -40px) rotate(120deg);\r\n    }\r\n    66% {\r\n      transform: scale(1.5) translate(60px, -50px) rotate(240deg);\r\n    }\r\n    100% {\r\n      transform: scale(1.5) translate(70px, -40px) rotate(360deg);\r\n    }\r\n  }\r\n  `;\r\n  const style = document.createElement('style');\r\n  style.textContent = updatedCSS;\r\n  document.head.appendChild(style);\r\n  \r\n  // Wait a bit longer to ensure Pokemon data is loaded\r\n  setTimeout(() => {\r\n    if (shouldShowEncounter() && POKEMON_LIST.length > 0) {\r\n      const pokemon = selectRandomPokemon();\r\n      createEncounterPopup(pokemon);\r\n    }\r\n  }, 3000); // Increased delay to allow data loading\r\n}\r\n\r\n// Initializes the extension when the page loads.\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initializePokebrowser);\r\n} else {\r\n  initializePokebrowser();\r\n}\r\n"],"names":[],"mappings":"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"}